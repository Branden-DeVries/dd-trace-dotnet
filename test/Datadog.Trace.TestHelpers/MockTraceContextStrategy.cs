//------------------------------------------------------------------------------
// <auto-generated />
// StyleCop hates convenience, so this is here to allow the static Mocks
//------------------------------------------------------------------------------
using System;

namespace Datadog.Trace.TestHelpers
{
    public class MockTraceContextStrategy : ITraceContextStrategy
    {
        public static MockTraceContextStrategy AutoKeep = new MockTraceContextStrategy(spans => { }, span => SamplingPriority.AutoKeep);

        private readonly Action<Span[]> _submit;
        private readonly Func<Span, SamplingPriority> _getSamplingPriority;

        public MockTraceContextStrategy(Action<Span[]> submit, Func<Span, SamplingPriority> getSamplingPriority)
        {
            _submit = submit;
            _getSamplingPriority = getSamplingPriority;
        }

        public void Write(Span[] span) => _submit(span);

        public SamplingPriority GetSamplingPriority(Span span) => _getSamplingPriority(span);
    }
}
